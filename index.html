<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Sreeja Loho Choudhury — Portfolio</title>
  <meta name="description" content="Personal portfolio showcasing research, publications, skills, and a dark/light mode toggle with sun/moon icon." />
  <link rel="icon" href="/favicon.png" />
  <style>
    *,*::before,*::after{box-sizing:border-box}
    html,body{margin:0;padding:0}
    img{max-width:100%;height:auto;display:block}
    a{color:inherit;text-decoration:none}

    :root{
      --bg:#0b1020; --surface:#0f172a; --card:#0b1224; --line:#1e293b;
      --text:#e2e8f0; --muted:#9aa6b2; --brand:#7c3aed; --brand-600:#6d28d9;
      --radius:18px; --shadow:0 8px 30px rgba(2,6,23,.35); --hover:rgba(124,58,237,.12);
    }
    body.light{
      --bg:#f8fafc; --surface:#ffffff; --card:#f1f5f9; --line:#cbd5e1;
      --text:#0f172a; --muted:#475569; --hover:rgba(124,58,237,.10);
    }

    body{font-family:ui-sans-serif,system-ui,Segoe UI,Roboto,Helvetica,Arial;
      background:linear-gradient(180deg,var(--bg),var(--surface));
      color:var(--text); line-height:1.6; transition:background .3s ease,color .3s ease}
    .container{width:min(1080px,92vw); margin-inline:auto}
    .stack{display:grid;gap:clamp(14px,2.6vmin,20px)}
    .grid{display:grid;gap:22px}
    .grid-3{grid-template-columns:repeat(3,minmax(0,1fr))}
    @media (max-width:900px){.grid-3{grid-template-columns:1fr 1fr}}
    @media (max-width:640px){.grid-3{grid-template-columns:1fr}}

    .nav-wrap{position:sticky;top:0;z-index:40;background:rgba(11,16,32,.7);
      backdrop-filter:blur(10px);border-bottom:1px solid var(--line);transition:background .3s ease}
    body.light .nav-wrap{background:rgba(255,255,255,.7)}
    nav{display:flex;align-items:center;justify-content:space-between;padding:14px 0}
    .brand{display:flex;align-items:center;gap:12px;font-weight:800}
    .logo{width:36px;height:36px;border-radius:10px;background:linear-gradient(135deg,var(--brand),var(--brand-600));
      display:grid;place-items:center;color:#fff;box-shadow:var(--shadow)}
    .nav-links{display:flex;gap:18px;align-items:center}
    .nav-links a{padding:8px 10px;border-radius:10px;color:var(--muted)}
    .nav-links a:hover{background:var(--hover);color:var(--text)}

    .btn{display:inline-grid;place-items:center;padding:10px 14px;border-radius:12px;border:1px solid var(--brand);
      background:var(--brand);color:#fff;font-weight:700}
    .btn:hover{background:var(--brand-600);border-color:var(--brand-600)}
    .pill{display:inline-block;padding:7px 11px;border:1px solid var(--line);border-radius:999px;color:var(--muted);
      background:rgba(255,255,255,.03);font-weight:600}

    .icon-btn{display:inline-flex;align-items:center;gap:8px;padding:8px 12px;border-radius:12px;border:1px solid var(--line);
      background:var(--surface);color:var(--text);cursor:pointer}
    .icon-btn:hover{background:var(--card)}
    .icon{width:20px;height:20px;display:block}

    header.hero{padding:clamp(28px,6vw,70px) 0}
    .hero-inner{display:grid;grid-template-columns:1.1fr .9fr;gap:30px;align-items:center}
    @media (max-width:900px){.hero-inner{grid-template-columns:1fr}}
    .hero-card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:18px;box-shadow:var(--shadow)}
    h1{font-size:clamp(28px,5vw,46px);line-height:1.1;margin:8px 0 6px}
    .lead{color:var(--muted);font-size:clamp(15px,2.2vw,18px)}

    section{padding:clamp(28px,6vw,70px) 0;border-top:1px solid var(--line)}
    section:first-of-type{border-top:none}
    .sect-head{display:flex;align-items:end;justify-content:space-between;gap:12px;margin-bottom:14px}
    .sect-head h2{margin:0;font-size:clamp(22px,3.2vw,30px)}

    .card{background:var(--card);border:1px solid var(--line);border-radius:var(--radius);padding:18px;box-shadow:var(--shadow)}
    .title{font-weight:800}

    .project-cover{aspect-ratio:16/9;border-radius:14px;object-fit:cover;border:1px solid var(--line);cursor:pointer}
    .project-meta{display:flex;gap:8px;flex-wrap:wrap}

    footer{border-top:1px solid var(--line);padding:24px 0;color:var(--muted)}
    .socials{display:flex;gap:10px;flex-wrap:wrap}
    .socials a{border:1px solid var(--line);width:40px;height:40px;border-radius:12px;display:grid;place-items:center;background:var(--surface)}
    .socials svg{width:20px;height:20px}

    /* --- Lightbox (mini-tab) --- */
    .lightbox{position:fixed;inset:0;background:rgba(2,6,23,.78);backdrop-filter:blur(6px);
      display:none;align-items:center;justify-content:center;z-index:1000}
    .lightbox.show{display:flex}
    .lb-inner{position:relative;width:min(1000px,92vw)}
    .lb-imgwrap{position:relative;border-radius:16px;overflow:hidden;border:1px solid var(--line);background:var(--surface)}
    .lb-img{width:100%;max-height:72vh;object-fit:contain;cursor:pointer}
    .lb-close{position:absolute;left:0;top:0;transform:translate(-10px,-10px);
      background:var(--surface);border:1px solid var(--line);color:var(--text);padding:10px 12px;border-radius:12px;cursor:pointer}
    .lb-prev,.lb-next{position:absolute;top:50%;transform:translateY(-50%);background:rgba(15,23,42,.75);
      border:1px solid var(--line);color:#fff;width:40px;height:40px;border-radius:12px;display:grid;place-items:center;cursor:pointer}
    .lb-prev{left:10px} .lb-next{right:10px}
    .lb-caption{margin-top:8px;color:var(--muted);text-align:center}
  </style>
</head>
<body class="light">
  <div class="nav-wrap">
    <div class="container">
      <nav aria-label="Primary">
        <a class="brand" href="#home"><span class="logo">S</span><span>Sreeja Loho Choudhury</span></a>
        <div class="nav-links" role="navigation">
          <a href="#about">About</a>
          <a href="#research">Research</a>
          <a href="#publications">Publications</a>
          <a href="#skills">Skills</a>
          <a href="#contact">Contact</a>
          <button id="modeToggle" class="icon-btn" aria-label="Toggle color mode" title="Toggle color mode">
            <svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" aria-hidden="true">
              <circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/>
              <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/>
              <line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/>
              <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/>
            </svg>
            <span id="modeLabel">Light</span>
          </button>
        </div>
      </nav>
    </div>
  </div>

  <header id="home" class="hero">
    <div class="container hero-inner">
      <div class="stack">
        <h1><span style="color:var(--text)">Sreeja Loho Choudhury</span></h1>
        <p class="lead">I build clean, fast, and accessible web experiences. Here are a few selected research highlights and what I can bring to your team.</p>
        <div class="stack" style="grid-auto-flow:column;grid-auto-columns:max-content;gap:10px">
          <a href="#research" class="btn">View Research</a>
          <a href="/resume.pdf" class="pill">Download Resume</a>
        </div>
      </div>
      <div class="hero-card">
        <img src="WhatsApp Image 2025-08-16 at 22.10.33_4f31caac.jpg" alt="Portrait of Your Name" class="project-cover" style="aspect-ratio:1/1;object-fit:cover"/>
        <p class="lead" style="margin-top:10px">Based in City • Timezone • Open to remote/onsite</p>
      </div>
    </div>
  </header>

  <main>
    <section id="about">
      <div class="container stack">
        <div class="sect-head"><h2>About</h2><span class="pill">Who I am</span></div>
        <p>Short bio (80–120 words). Mention focus, strengths, outcomes, and tools you love.</p>
      </div>
    </section>

    <!-- Research -->
    <section id="research">
      <div class="container stack">
        <div class="sect-head">
          <h2>Research</h2><span class="pill">Selected work</span>
        </div>
        <div id="research-grid" class="grid grid-3" aria-live="polite"></div>
        <p id="research-fallback" class="lead" style="display:none;color:var(--muted)">No research items yet.</p>
      </div>
    </section>

    <!-- Publications -->
    <section id="publications">
      <div class="container stack">
        <div class="sect-head"><h2>Publications</h2><span class="pill">Papers & preprints</span></div>
        <ol class="stack">
          <li class="card"><span class="title">Paper Title One</span><br><span class="lead">Authors • Venue • Year • <a href="#">DOI/Link</a></span></li>
          <li class="card"><span class="title">Paper Title Two</span><br><span class="lead">Authors • Venue • Year • <a href="#">DOI/Link</a></span></li>
          <li class="card"><span class="title">Paper Title Three</span><br><span class="lead">Authors • Venue • Year • <a href="#">DOI/Link</a></span></li>
        </ol>
      </div>
    </section>

    <section id="skills">
      <div class="container stack">
        <div class="sect-head"><h2>Skills</h2><span class="pill">What I use</span></div>
        <div class="grid grid-3">
          <div class="card"><div class="title">Frontend</div><p class="lead">HTML, CSS, JS, React</p></div>
          <div class="card"><div class="title">Backend</div><p class="lead">Node, Python, SQL/NoSQL</p></div>
          <div class="card"><div class="title">Tooling</div><p class="lead">Git/GitHub, CI/CD, Figma</p></div>
        </div>
      </div>
    </section>

    <section id="contact">
      <div class="container stack">
        <div class="sect-head"><h2>Contact</h2><span class="pill">Let's talk</span></div>
        <div class="card">
          <p class="lead">Email me or connect on socials. I usually reply within a day.</p>
          <ul class="stack" style="gap:10px">
            <li><strong>Email:</strong> you@example.com</li>
            <li><strong>Location:</strong> City, Country</li>
            <li class="socials" id="socialIcons"></li>
          </ul>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container" style="display:flex;align-items:center;justify-content:space-between;gap:12px;flex-wrap:wrap">
      <p>&copy; <span id="y"></span> Sreeja Loho Choudhury-Portfolio.</p>
      <a class="pill" href="#home">Back to top</a>
    </div>
  </footer>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true" role="dialog" aria-label="Gallery">
    <div class="lb-inner">
      <button class="lb-close" id="lbClose" aria-label="Close gallery">✕ Close</button>
      <div class="lb-imgwrap">
        <img id="lbImg" class="lb-img" alt="Gallery image"/>
        <button class="lb-prev" id="lbPrev" aria-label="Previous image">‹</button>
        <button class="lb-next" id="lbNext" aria-label="Next image">›</button>
      </div>
      <div id="lbCaption" class="lb-caption"></div>
    </div>
  </div>

  <script>
    // Footer year
    document.getElementById('y').textContent = new Date().getFullYear();

    // Theme toggle
    const btn = document.getElementById('modeToggle');
    const label = document.getElementById('modeLabel');
    const moon = `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"/></svg>`;
    const sun  = `<svg class="icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>`;
    const saved = localStorage.getItem('prefers-theme');
    if(saved === 'dark'){ document.body.classList.remove('light'); btn.firstElementChild?.remove(); btn.insertAdjacentHTML('afterbegin', moon); label.textContent='Dark'; }
    else{ btn.firstElementChild?.remove(); btn.insertAdjacentHTML('afterbegin', sun); label.textContent='Light'; document.body.classList.add('light'); }
    btn.addEventListener('click', () => {
      const isLight = document.body.classList.toggle('light');
      if(isLight){ btn.firstElementChild?.remove(); btn.insertAdjacentHTML('afterbegin', sun); label.textContent='Light'; localStorage.setItem('prefers-theme','light'); }
      else{ btn.firstElementChild?.remove(); btn.insertAdjacentHTML('afterbegin', moon); label.textContent='Dark'; localStorage.setItem('prefers-theme','dark'); }
    });

    // Social icons
    function iconFor(url){
      const u = new URL(url);
      const h = u.hostname.replace(/^www\./,'').toLowerCase();
      const icons = {
        'github.com': `<svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><title>GitHub</title><path d="M12 .5a12 12 0 0 0-3.79 23.4c.6.11.82-.26.82-.58v-2.02c-3.34.73-4.04-1.61-4.04-1.61-.55-1.39-1.33-1.76-1.33-1.76-1.09-.75.08-.74.08-.74 1.2.08 1.84 1.23 1.84 1.23 1.07 1.84 2.81 1.31 3.49 1 .11-.77.42-1.31.76-1.61-2.66-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.23-3.22-.12-.3-.53-1.52.12-3.17 0 0 1.01-.32 3.3 1.23a11.47 11.47 0 0 1 6 0c2.29-1.55 3.3-1.23 3.3-1.23.65 1.65.24 2.87.12 3.17.77.84 1.23 1.91 1.23 3.22 0 4.61-2.81 5.62-5.49 5.92.43.37.81 1.1.81 2.22v3.29c0 .32.21.7.83.58A12 12 0 0 0 12 .5z"/></svg>`,
        'linkedin.com': `<svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><title>LinkedIn</title><path d="M4.98 3.5C4.98 4.88 3.86 6 2.5 6S0 4.88 0 3.5 1.12 1 2.5 1s2.48 1.12 2.48 2.5zM.5 8h4V24h-4V8zm7.5 0h3.8v2.2h.05c.53-1 1.83-2.2 3.77-2.2 4.04 0 4.78 2.66 4.78 6.12V24h-4v-7.1c0-1.7-.03-3.88-2.36-3.88-2.36 0-2.73 1.84-2.73 3.76V24h-4V8z"/></svg>`,
        'x.com': `<svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><title>X</title><path d="M18.244 2H22l-7.78 8.89L24 22h-7.406l-5.8-7.06L3.244 22H0l8.421-9.62L0 2h7.594l5.39 6.58L18.244 2zM16.77 20h2.2L7.33 4H5.02L16.77 20z"/></svg>`,
        'twitter.com': `<svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><title>Twitter</title><path d="M23 2.999a9.5 9.5 0 0 1-2.828.82 4.93 4.93 0 0 0 2.165-2.724 9.86 9.86 0 0 1-3.127 1.2A4.92 4.92 0 0 0 16.11 1c-2.73 0-4.95 2.25-4.95 5.02 0 .39.04.77.12 1.13-4.11-.21-7.75-2.22-10.19-5.28a5.1 5.1 0 0 0-.67 2.53c0 1.74.86 3.28 2.16 4.18a4.86 4.86 0 0 1-2.24-.64v.06c0 2.44 1.69 4.47 3.93 4.94a4.8 4.8 0 0 1-2.23.09c.63 2 2.45 3.46 4.6 3.5A9.86 9.86 0 0 1 0 20.41 13.9 13.9 0 0 0 7.55 22c9.05 0 14-7.7 14-14.37 0-.22 0-.43-.01-.64A10.2 10.2 0 0 0 23 3z"/></svg>`,
        'scholar.google.com': `<svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><title>Google Scholar</title><path d="M12 2L1 9l11 7 11-7-11-7zm0 9.2L4.3 7.4 12 3l7.7 4.4L12 11.2zM5 13.5V19l7 4 7-4v-5.5l-7 4-7-4z"/></svg>`,
        'researchgate.net': `<svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><title>ResearchGate</title><path d="M3 3h18v18H3V3zm9.62 11.2c.74 1.06 1.6 1.5 2.9 1.5.27 0 .54-.03.8-.08v1.7c-.38.06-.77.1-1.16.1-2.03 0-3.4-.86-4.37-2.5H9.5V18H7.3V6h6.1c2.29 0 3.7 1.3 3.7 3.2 0 1.6-1 2.6-2.35 3 .68.38 1.1.87 1.87 2zm-3.72-2.7h3.38c1.3 0 2.02-.58 2.02-1.6 0-.98-.72-1.5-2.02-1.5H8.9v3.1z"/></svg>`
      };
      const globe = `<svg viewBox="0 0 24 24" fill="currentColor" aria-hidden="true"><title>Website</title><path d="M12 2a10 10 0 1 0 0 20 10 10 0 0 0 0-20zm7.93 9H16.9a15.3 15.3 0 0 0-1.3-5 8.03 8.03 0 0 1 4.33 5zM12 4c.92 0 2.6 2.24 3.13 6H8.87C9.4 6.24 11.08 4 12 4zM6.4 6a15.3 15.3 0 0 0-1.3 5H4.07A8.03 8.03 0 0 1 6.4 6zM4.07 13H5.1c.15 1.8.67 3.5 1.3 5a8.03 8.03 0 0 1-2.33-5zM12 20c-.92 0-2.6-2.24-3.13-6h6.26C14.6 17.76 12.92 20 12 20zm5.6-2a15.3 15.3 0 0 0 1.3-5h1.03a8.03 8.03 0 0 1-2.33 5z"/></svg>`;
      const key = Object.keys(icons).find(k => h.endsWith(k));
      return icons[key] || globe;
    }

    // DATA BIND & LIGHTBOX
    const lightbox = document.getElementById('lightbox');
    const lbImg = document.getElementById('lbImg');
    const lbCaption = document.getElementById('lbCaption');
    const lbClose = document.getElementById('lbClose');
    const lbPrev = document.getElementById('lbPrev');
    const lbNext = document.getElementById('lbNext');
    let LB_IMAGES = []; let LB_I = 0;

    function openLightbox(images, startIdx=0){
      LB_IMAGES = images || [];
      LB_I = Math.max(0, Math.min(startIdx, LB_IMAGES.length-1));
      renderLB();
      lightbox.classList.add('show');
      lightbox.setAttribute('aria-hidden', 'false');
      document.body.style.overflow='hidden';
    }
    function closeLightbox(){
      lightbox.classList.remove('show');
      lightbox.setAttribute('aria-hidden','true');
      document.body.style.overflow='';
    }
    function renderLB(){
      if(!LB_IMAGES.length){ closeLightbox(); return; }
      const im = LB_IMAGES[LB_I];
      lbImg.src = im.src;
      lbImg.alt = im.alt || '';
      lbCaption.textContent = im.caption || '';
    }
    function nextLB(){ LB_I = (LB_I+1)%LB_IMAGES.length; renderLB(); }
    function prevLB(){ LB_I = (LB_I-1+LB_IMAGES.length)%LB_IMAGES.length; renderLB(); }

    lbClose.addEventListener('click', closeLightbox);
    lbNext.addEventListener('click', nextLB);
    lbPrev.addEventListener('click', prevLB);
    lbImg.addEventListener('click', nextLB); // click image to advance
    lightbox.addEventListener('click', (e)=>{ if(e.target===lightbox) closeLightbox(); });
    window.addEventListener('keydown', (e)=>{
      if(!lightbox.classList.contains('show')) return;
      if(e.key==='Escape') closeLightbox();
      if(e.key==='ArrowRight') nextLB();
      if(e.key==='ArrowLeft') prevLB();
    });

    (async function(){
      try{
        const d = await fetch('data.json?cache='+Date.now()).then(r=>r.json());

        // brand/title/hero/etc.
        document.title = d.site?.title ? `${d.site.title} — Portfolio` : document.title;
        const brand = document.querySelector('.brand'); if(brand && d.site?.title){ brand.lastElementChild.textContent = d.site.title; }
        const leadEl = document.querySelector('.hero .lead'); if(leadEl && d.site?.hero?.lead) leadEl.textContent = d.site.hero.lead;
        const heroImg = document.querySelector('.hero-card img'); if(heroImg && d.site?.hero?.img) heroImg.src = d.site.hero.img;
        const heroLoc = document.querySelector('.hero-card .lead'); if(heroLoc && d.site?.hero?.location) heroLoc.textContent = d.site.hero.location;
        const resumeLink = document.querySelector('a[href="/resume.pdf"]'); if(resumeLink && d.site?.resume){ resumeLink.href = d.site.resume; }
        const about = document.querySelector('#about p'); if(about && d.about?.text) about.textContent = d.about.text;

        // build research grid (cover only; click opens lightbox)
        const grid = document.getElementById('research-grid');
        const fallback = document.getElementById('research-fallback');

        if (Array.isArray(d.research) && d.research.length){
          grid.innerHTML = d.research.map((it, idx)=>{
            const imgs = Array.isArray(it.images) && it.images.length ? it.images : (it.img ? [{src:it.img, alt:it.title||''}] : []);
            const cover = imgs[0];
            return `
              <article class="card" data-idx="${idx}">
                <img class="project-cover open-gallery" src="${cover?cover.src:''}" alt="${cover?cover.alt:''}">
                <div class="title">${it.title||''}</div>
                <p class="lead">${it.desc||''}</p>
                <div class="project-meta">${(it.tags||[]).map(t=>`<span class="pill">${t}</span>`).join('')}</div>
              </article>`;
          }).join('');

          // hook up gallery openers
          grid.querySelectorAll('.open-gallery, .card').forEach(card=>{
            card.addEventListener('click', (e)=>{
              const a = e.currentTarget.closest('.card');
              if(!a) return;
              const i = +a.dataset.idx;
              const it = d.research[i];
              const imgs = (Array.isArray(it.images) && it.images.length ? it.images :
                           (it.img ? [{src:it.img, alt:it.title||''}] : []));
              if(imgs.length) openLightbox(imgs, 0);
            });
          });
        } else { fallback.style.display = 'block'; }

        // publications
        const pubList = document.querySelector('#publications ol');
        if(pubList && Array.isArray(d.publications)){
          pubList.innerHTML = d.publications.map(p=>`
            <li class="card">
              <span class="title">${p.title||''}</span><br>
              <span class="lead">${p.meta||''} • <a href="${p.link||'#'}" target="_blank" rel="noopener">Link</a></span>
            </li>`).join('');
        }

        // skills
        const skillsGrid = document.querySelector('#skills .grid');
        if(skillsGrid && Array.isArray(d.skills)){
          skillsGrid.innerHTML = d.skills.map(s=>`
            <div class="card"><div class="title">${s.title||''}</div><p class="lead">${s.text||''}</p></div>
          `).join('');
        }

        // contact icons
        const emailLi = document.querySelector('#contact .card li:nth-child(1)');
        const locLi = document.querySelector('#contact .card li:nth-child(2)');
        const socialsEl = document.getElementById('socialIcons');
        if(emailLi && d.contact?.email) emailLi.innerHTML = `<strong>Email:</strong> ${d.contact.email}`;
        if(locLi && d.contact?.location) locLi.innerHTML = `<strong>Location:</strong> ${d.contact.location}`;
        if(socialsEl){
          const socials = (d.contact?.socials || []).filter(Boolean);
          socialsEl.innerHTML = socials.map(u => {
            const title = new URL(u).hostname.replace(/^www\./,'');
            return `<a href="${u}" target="_blank" rel="noopener" aria-label="${title}" title="${title}">${iconFor(u)}</a>`;
          }).join('');
        }
      }catch(e){
        console.warn('Could not load data.json', e);
        const fallback = document.getElementById('research-fallback');
        if(fallback) fallback.style.display = 'block';
      }
    })();
  </script>
</body>
</html>

